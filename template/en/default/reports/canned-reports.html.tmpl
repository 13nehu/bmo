[%# 1.0@bugzilla.org %]
[%# The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the Bugzilla Bug Tracking System.
  #
  # The Initial Developer of the Original Code is Netscape Communications
  # Corporation. Portions created by Netscape are
  # Copyright (C) 1998 Netscape Communications Corporation. All
  # Rights Reserved.
  #
  # Contributor(s): Ronaldo Maia <rmaia@everythingsolved.com>
  #%]

[% PROCESS global/variables.none.tmpl %]


[%# Copyed from form.html.tmpl %]
<script type="text/javascript">

var first_load = true;         [%# is this the first time we load the page? %]
var last_sel = new Array();    [%# caches last selection %]

var cf_fixed_ins = new Array();
var useclassification = false;

[%# Create three arrays of components, versions and target milestones, indexed
  # numerically according to the product they refer to. #%]

[% n = 0 %]
[% FOREACH p = products %]
  [% NEXT IF NOT p.components.size %]

  cf_fixed_ins[[% n %]] = [
    [%- FOREACH item = p.cf_fixed_in -%]'[%  item.name FILTER js %]'[% ", " UNLESS loop.last %] [%- END -%] ];
  [% n = n+1 %]
[% END %]

function doOnSelectProduct() {
    var f = document.forms['cf_fixed_in_form'];
    selectProduct(f.product, null, null, null, f.cf_fixed_in);
}
</script>



<h2>Canned Reports</h2>

<ul>
  <li>
    <form method="get" action="show_activity.cgi" name="userform">
      <strong>User Changes</strong><br>
      <input type="hidden" name="type" value="user">
      Changes made by
      <input type="text" name="users" > (user list)
      Between <input type="text" name="chfrom"> and <input type="text" name="chto" value="Now">
      <input type="submit" value="Search">
    </form>
  </li>

  <li>
    <form method="get" action="buglist.cgi" name="blockingform">
      <strong>Open Blockers</strong><br>
      <input type="hidden" name="query_format" value="advanced">
      <input type="hidden" name="resolution" value="---">
      <input type="hidden" name="field0-0-0" value="flagtypes.name">
      <input type="hidden" name="type0-0-0"  value="regexp">
      <input type="hidden" name="value0-0-0" value="^blocking.*\+$">
      <em>List of open [% terms.bugs %] that have a flag set to + whose name
      starts with 'blocking'</em><br>
      <table>
        <tr><th>Product:</th><td></td></tr>
        <tr><td>[%+ PROCESS products %]</td>
         <td><input type="submit" value="Search"></td>
        </tr>
      </table>
    </form>
  </li>

  <li>
    <form method="get" action="buglist.cgi" name="fixedform">
      <strong>
        [% terms.Bugs %] Fixed In The Last 7 Days
      </strong><br>
      <input type="hidden" name="query_format" value="advanced">
      <input type="hidden" name="resolution"   value="FIXED">
      <input type="hidden" name="chfieldfrom"  value="7d">
      <input type="hidden" name="chfieldto"    value="Now">
      <input type="hidden" name="chfield"      value="resolution">
      <input type="hidden" name="chfieldvalue" value="FIXED">
      <table>
        <tr><th>Product:</th><td></td></tr>
        <tr><td>[%+ PROCESS products %]</td>
         <td><input type="submit" value="Search"></td>
        </tr>
      </table>
    </form>
  </li>

  <li>
    <form method="get" action="buglist.cgi" name="cf_fixed_in_form">
      <strong>
        [% terms.Bugs %] Fixed In A Release
      </strong>
      <table>
        <tr><th>Product:</th><th>Fixed In:</th><td></td></tr>
        <tr><td>[%+ PROCESS products %]</td>
         <td>[%+ PROCESS cf_fixed_in %]</td>
         <td><input type="submit" value="Search"></td>
        </tr>
      </table>
    </form>
  </li>
</ul>

[% BLOCK products %]
  <select name="product" onchange="doOnSelectProduct();" 
          multiple="multiple" size="5">
    [% FOREACH p = products %]
      <option value="[% p.name FILTER html %]">[% p.name FILTER html %]</option>
    [% END %]
  </select>
[% END %]

[% BLOCK cf_fixed_in %]
  <select size="5" multiple="multiple" name="cf_fixed_in">
    [% FOREACH f = cf_fixed_in %]
      <option>[% f FILTER html %]</option>
    [% END %]
  </select>
[% END %]

