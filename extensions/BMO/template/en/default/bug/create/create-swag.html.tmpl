[%# This Source Code Form is subject to the terms of the Mozilla Public
  # License, v. 2.0. If a copy of the MPL was not distributed with this
  # file, You can obtain one at http://mozilla.org/MPL/2.0/.
  #
  # This Source Code Form is "Incompatible With Secondary Licenses", as
  # defined by the Mozilla Public License, v. 2.0.
  #%]

[% PROCESS global/variables.none.tmpl %]

[%
items = [
  { id => '',           name => 'Splendidest Gear',                                        },
  { id => '#155415S',   name => 'Champion sweatshirt + tote bag - S',   price =>  '$66.80' },
  { id => '#155415M',   name => 'Champion sweatshirt + tote bag - M',   price =>  '$66.80' },
  { id => '#155415L',   name => 'Champion sweatshirt + tote bag - L',   price =>  '$66.80' },
  { id => '#155415XL',  name => 'Champion sweatshirt + tote bag - XL',  price =>  '$66.80' },
  { id => '#1554152XL', name => 'Champion sweatshirt + tote bag - 2XL', price =>  '$66.80' },
  { id => '#155749',    name => 'Rickshaw messenger bag',               price => '$205.00' },
  { id => '#155752',    name => 'Moleskine notebook',                   price =>  '$27.00' },
  { id => '#157452S',   name => 'Very Splendid Package (Ladies) - S',   price =>  '$30.10' },
  { id => '#157452M',   name => 'Very Splendid Package (Ladies) - M',   price =>  '$30.10' },
  { id => '#157452L',   name => 'Very Splendid Package (Ladies) - L',   price =>  '$30.10' },
  { id => '#157452XL',  name => 'Very Splendid Package (Ladies) - XL',  price =>  '$30.10' },
  { id => '#157454S',   name => 'Very Splendid Package (Unisex) - S',   price =>  '$30.10' },
  { id => '#157454M',   name => 'Very Splendid Package (Unisex) - M',   price =>  '$30.10' },
  { id => '#157454L',   name => 'Very Splendid Package (Unisex) - L',   price =>  '$30.10' },
  { id => '#157454XL',  name => 'Very Splendid Package (Unisex) - XL',  price =>  '$30.10' },
  { id => '#157451S',   name => 'Most Splendid Package - S'          ,  price => '$298.80' },
  { id => '#157451M',   name => 'Most Splendid Package - M'          ,  price => '$298.80' },
  { id => '#157451L',   name => 'Most Splendid Package - L'          ,  price => '$298.80' },
  { id => '#157451XL',  name => 'Most Splendid Package - XL'         ,  price => '$298.80' },
  { id => '',           name => 'Splendider Gear',                                         },
  { id => '#155342S',   name => 'Unisex t-shirt, navy - S',             price =>  '$9.65 - $12.50' },
  { id => '#155342M',   name => 'Unisex t-shirt, navy - M',             price =>  '$9.65 - $12.50' },
  { id => '#155342L',   name => 'Unisex t-shirt, navy - L',             price =>  '$9.65 - $12.50' },
  { id => '#155342X',   name => 'Unisex t-shirt, navy - XL',            price =>  '$9.65 - $12.50' },
  { id => '#1553422',   name => 'Unisex t-shirt, navy - 2XL',           price =>  '$9.65 - $12.50' },
  { id => '#1553423',   name => 'Unisex t-shirt, navy - 3XL',           price =>  '$9.65 - $12.50' },
  { id => '#155413S',   name => 'Ladies t-shirt, navy - S',             price =>  '$9.65' },
  { id => '#155413M',   name => 'Ladies t-shirt, navy - M',             price =>  '$9.65' },
  { id => '#155413L',   name => 'Ladies t-shirt, navy - L',             price =>  '$9.65' },
  { id => '#155413X',   name => 'Ladies t-shirt, navy - XL',            price =>  '$9.65' },
  { id => '#155341S',   name => 'Unisex t-shirt, poppy - S',            price =>  '$9.65 - $12.50' },
  { id => '#155341M',   name => 'Unisex t-shirt, poppy - M',            price =>  '$9.65 - $12.50' },
  { id => '#155341L',   name => 'Unisex t-shirt, poppy - L',            price =>  '$9.65 - $12.50' },
  { id => '#155341X',   name => 'Unisex t-shirt, poppy - XL',           price =>  '$9.65 - $12.50' },
  { id => '#1553412',   name => 'Unisex t-shirt, poppy - 2XL',          price =>  '$9.65 - $12.50' },
  { id => '#155344S',   name => 'Ladies t-shirt, poppy - S',            price =>  '$9.65' },
  { id => '#155344M',   name => 'Ladies t-shirt, poppy - M',            price =>  '$9.65' },
  { id => '#155344L',   name => 'Ladies t-shirt, poppy - L',            price =>  '$9.65' },
  { id => '#155343M',   name => 'Unisex t-shirt, lapis - M',            price =>  '$9.65' },
  { id => '#155343L',   name => 'Unisex t-shirt, lapis - L',            price =>  '$9.65' },
  { id => '#155343X',   name => 'Unisex t-shirt, lapis - XL',           price =>  '$9.65' },
  { id => '#155414S',   name => 'Ladies t-shirt, lapis - S',            price =>  '$9.65' },
  { id => '#155414M',   name => 'Ladies t-shirt, lapis - M',            price =>  '$9.65' },
  { id => '#155414L',   name => 'Ladies t-shirt, lapis - L',            price =>  '$9.65' },
  { id => '#155339',    name => 'Black cap w/tote',                     price => '$13.20' },
  { id => '#155340',    name => 'Beanie',                               price =>  '$4.95' },
  { id => '#155751',    name => 'Drawstring tote',                      price =>  '$4.80' },
  { id => '#155758',    name => 'Glossy finish ceramic mug',            price =>  '$7.25' },
  { id => '',           name => 'Splendid Gear',                                          },
  { id => '#155753',    name => '3" round Firefox sticker, individual', price =>  '$0.19' },
  { id => '#155756',    name => 'Silicone wristband',                   price =>  '$0.75' },
  { id => '#155755',    name => 'Vertical laminated conference badge',  price =>  '$1.00' },
  { id => '#155754',    name => 'Mozilla lanyard with bulldog clip',    price =>  '$1.50' },
  { id => '#155757',    name => 'Firefox tattoo, 50 pack',              price =>  '$3.50' },
]
%]

[% inline_style = BLOCK %]
#gear_form th {
  text-align: right;
  font-weight: normal;
}

#gear_form .heading {
  text-align: left;
  font-weight: bold;
  border-top: 2px dotted #969696;
}

.mandatory {
  color: red;
}
[% END %]

[% inline_javascript = BLOCK %]
var Dom = YAHOO.util.Dom;
var quantity = {};

var gear = [
[% FOREACH item = items %]
  { id: '[% item.id FILTER js %]', name: '[% item.name FILTER js %]', price: '[% item.price FILTER js %]' }
  [% ',' UNLESS loop.last %]
[% END %]
];

[%# implemented this way to allow for dynamic updating of mandatory fields #%]
var fields = [
  { id: 'firstname',       mandatory: true  },
  { id: 'lastname',        mandatory: true  },
  { id: 'email',           mandatory: true  },
  { id: 'mozspace',        mandatory: false },
  { id: 'teamcode',        mandatory: true  },
  { id: 'purpose',         mandatory: true  },
  { id: 'purpose_other',   mandatory: false },
  { id: 'date_required',   mandatory: false },
  { id: 'items',           mandatory: true  },
  { id: 'shiptofirstname', mandatory: true  },
  { id: 'shiptolastname',  mandatory: true  },
  { id: 'shiptoemail',     mandatory: true  },
  { id: 'shiptoaddress1',  mandatory: true  },
  { id: 'shiptoaddress2',  mandatory: false },
  { id: 'shiptocity',      mandatory: true  },
  { id: 'shiptostate',     mandatory: true  },
  { id: 'shiptocountry',   mandatory: true  },
  { id: 'shiptopostcode',  mandatory: true  },
  { id: 'shiptophone',     mandatory: true  },
  { id: 'shiptoidrut',     mandatory: false },
  { id: 'comment',         mandatory: false }
];

function initFields() {
  [%# find fields in the form, and update the fields array #%]
  var rows = Dom.get('gear_form').getElementsByTagName('TR');
  for (var i = 0, l = rows.length; i < l; i++) {
    var row = rows[i];
    var field = firstChild(row, 'INPUT') || firstChild(row, 'SELECT') || firstChild(row, 'TEXTAREA');
    if (!field || field.type == 'submit') continue;
    var id = field.id;
    var label = firstChild(row, 'TH');
    for (var j = 0, m = fields.length; j < m; j++) {
      if (fields[j].id == id) {
        fields[j].field = field;
        fields[j].label = label;
        fields[j].caption = label.textContent;
        break;
      }
    }
  }
  createCalendar('date_required');
}

function tagMandatoryFields() {
  [%# add or remove the "* mandatory" marker from fields #%]
  for (var i = 0, l = fields.length; i < l; i++) {
    var f = fields[i];
    if (!f.label) continue;
    var caption = f.caption;
    if (f.mandatory)
      caption = caption + '&nbsp;<span class="mandatory">*</span>';
    f.label.innerHTML = caption;
  }
}

function validateAndSubmit() {
  var alert_text = '';
  for(var i = 0, l = fields.length; i < l; i++) {
    var f = fields[i];
    if (f.mandatory && !isFilledOut(f.id))
      if (f.field.nodeName == 'SELECT') {
        alert_text += 'Please select the ' + f.caption + ".\n";
      } else {
        alert_text += 'Please enter the ' + f.caption + ".\n";
      }
  }
  if (isFilledOut('email') && !isValidEmail(Dom.get('email').value))
    alert_text += "Please enter a valid Email Address.\n";
  if (isFilledOut('shiptoemail') && !isValidEmail(Dom.get('shiptoemail').value))
    alert_text += "Please enter a valid Shipping Email Address.\n";

  if (alert_text != '') {
    alert(alert_text);
    return false;
  }

  Dom.get('short_desc').value = 'Mozilla Gear - ' + Dom.get('firstname').value + ' ' + Dom.get('lastname').value;
  return true;
}

function onPurposeChange() {
  var value = Dom.get('purpose').value;
  var other = Dom.get('purpose_other');

  if (value == 'Event:') {
    getField('purpose_other').mandatory = true;
    other.placeholder = 'link to wiki'
    Dom.removeClass('purpose_other_row', 'bz_default_hidden');
    Dom.addClass('recognition_row', 'bz_default_hidden');

  } else if (value == 'Gear closet at a MozSpace:') {
    getField('purpose_other').mandatory = true;
    other.placeholder = 'indicate space'
    Dom.removeClass('purpose_other_row', 'bz_default_hidden');
    Dom.addClass('recognition_row', 'bz_default_hidden');

  } else if (value == 'Other:') {
    getField('purpose_other').mandatory = true;
    other.placeholder = 'more information';
    Dom.removeClass('purpose_other_row', 'bz_default_hidden');
    Dom.addClass('recognition_row', 'bz_default_hidden');

  } else if (value == 'Mozillian Recognition') {
    getField('purpose_other').mandatory = false;
    Dom.addClass('purpose_other_row', 'bz_default_hidden');
    Dom.removeClass('recognition_row', 'bz_default_hidden');
    onRecognitionChange();

  } else {
    getField('purpose_other').mandatory = false;
    Dom.addClass('purpose_other_row', 'bz_default_hidden');
    Dom.addClass('recognition_row', 'bz_default_hidden');
  }

  onRecognitionChange();
}

function onRecognitionChange() {
  var mandatory = Dom.get('purpose').value != 'Mozillian Recognition'
                  || !Dom.get('recognition_shipping').checked;
  getField('shiptoaddress1').mandatory = mandatory;
  getField('shiptocity').mandatory = mandatory;
  getField('shiptostate').mandatory = mandatory;
  getField('shiptocountry').mandatory = mandatory;
  getField('shiptopostcode').mandatory = mandatory;
  getField('shiptophone').mandatory = mandatory;
  tagMandatoryFields();
}

function firstChild(parent, name) {
  var a = parent.getElementsByTagName(name);
  return a.length == 0 ? false : a[0];
}

function getField(id) {
  for(var i = 0, l = fields.length; i < l; i++) {
    if (fields[i].id == id)
      return fields[i];
  }
  return false;
}

function addGear() {
  var id = Dom.get('add_gear').value;
  if (!id) return;
  if (quantity[id]) {
    quantity[id]++;
  } else {
    quantity[id] = 1;
  }
  showGear();
}

function removeGear(id) {
  if (!id) return;
  if (quantity[id]) {
    quantity[id]--;
  } else {
    quantity[id] = 0;
  }
  showGear();
}

function showGear() {
  var html = '<table border="0" cellpadding="2" cellspacing="0">';
  var text = '';
  var count = 0;
  for (var i = 0, l = gear.length; i < l; i++) {
    var item = gear[i];
    var id = item.id;
    if (!id) continue;
    if (!quantity[id]) continue;
    count += quantity[id];
    html += '<tr>' +
            '<td>' + quantity[id] + ' x&nbsp;</td>' +
            '<td>' + item.name + '</td>' +
            '<td align="right">&nbsp;' + item.price + '</td>' +
            '<td><button onclick="removeGear(\'' + id + '\');return false">Remove</button></td>' +
            '</tr>';
    text += quantity[id] + ' x ' + id + ' ' + item.name + ' @ ' + item.price + "\n";
  }
  if (!count)
    html += '<tr><td><i>No gear selected.</i></td></tr>';
  html += '</table>';
  Dom.get('gear_container').innerHTML = html;
  Dom.get('items').value = text;
}

[% END %]

[% PROCESS global/header.html.tmpl
   title = "Mozilla Gear"
   style = inline_style
   javascript = inline_javascript
   javascript_urls = [ 'extensions/BMO/web/js/form_validate.js',
                       'js/field.js', 'js/util.js' ]
   yui = [ 'autocomplete', 'calendar' ]
%]

<h1>Mozilla Gear</h1>

<p>
  Want gear? Here's what to do:
  <ul>
    <li>
      Follow the steps below and click submit.  (If this is an emergency,
      you'll want to <a href="https://wiki.mozilla.org/GearStore/SpaceRequests">start here</a>
      instead.
    </li>
    <li>
      Requests are reviewed every Monday. If approved, we'll let you know and
      then send your order to our gear partner, Staples, for processing and
      shipment; if it can't be approved,  we'll email you with details (or
      possibly ask for more information).
    </li>
  </ul>
</p>

<form method="post" action="post_bug.cgi" id="swagRequestForm" enctype="multipart/form-data"
      onSubmit="return validateAndSubmit();">
  <input type="hidden" name="format" value="swag">
  <input type="hidden" name="product" value="Marketing">
  <input type="hidden" name="component" value="Swag Requests">
  <input type="hidden" name="rep_platform" value="All">
  <input type="hidden" name="op_sys" value="Other">
  <input type="hidden" name="priority" value="--">
  <input type="hidden" name="version" value="unspecified">
  <input type="hidden" name="bug_severity" id="bug_severity" value="normal">
  <input type="hidden" name="short_desc" id="short_desc" value="">
  <input type="hidden" name="groups" value="mozilla-corporation-confidential">
  <input type="hidden" name="token" value="[% token FILTER html %]">

<table id="gear_form">

<tr>
  <td>&nbsp;</td>
</tr>
<tr>
  <th class="heading" colspan="2">Tell Us What You Want</th>
</tr>

<tr>
  <th>Purpose of Gear</th>
  <td>
    <select name="purpose" id="purpose" onchange="onPurposeChange()">
      <option value="">Please select..</option>
      <option value="Campaign">Campaign</option>
      <option value="Event:">Event:</option>
      <option value="Gear closet at a MozSpace:">Gear closet at a MozSpace:</option>
      <option value="Mozillian Recognition">Mozillian Recognition</option>
      <option value="Onboarding">Onboarding</option>
      <option value="Press">Press</option>
      <option value="Recruiting">Recruiting</option>
      <option value="VIP">VIP</option>
      <option value="Other:">Other:</option>
    </select>
  </td>
</tr>

<tr id="purpose_other_row" class="bz_default_hidden">
  <th>Purpose Text</th>
  <td>
    <input name="purpose_other" id="purpose_other" size="50">
  </td>
</tr>

<tr id="recognition_row" class="bz_default_hidden">
  <th>&nbsp;</td>
  <td>
    <input type="checkbox" name="recognition_shipping" id="recognition_shipping" value="Yes"
            onclick="onRecognitionChange()">
    <label for="recognition_shipping">
      This [% terms.bug %] needs recipient shipping information
    </label><br>
    <input type="checkbox" name="recognition_sizing" id="recognition_sizing" value="Yes">
    <label for="recognition_sizing">
      This [% terms.bug %] needs recipient size information
    </label><br>
    </div>
  </td>
</tr>

<tr>
  <th>Date Required</th>
  <td>
    <input name="date_required" id="date_required" size="25"
           onchange="updateCalendarFromField(this)">
    <button type="button" class="calendar_button" id="button_calendar_date_required"
            onclick="showCalendar('date_required')"><span>cal</span></button>
    <div id="con_calendar_date_required"></div>
    <br>
    <i>
      If this order is time sensitive,
      <a href="https://wiki.mozilla.org/GearStore/SpaceRequests" target="_blank">place a Space Request</a>
      to pick up your gear from your Mozilla Space.
    </i>
  </td>
</tr>

<tr>
  <th>Gear Needed</th>
  <td>
    <input type="hidden" name="items" id="items" value="">
    <a href="https://wiki.mozilla.org/GearStore/Gearavailable" target="_blank">
    View the current inventory</a>, then add your selection(s):<br>

    <select id="add_gear">
      <option value="">Please select..</option>
      [% first_group = true %]
      [% FOREACH item = items %]
        [% IF item.id == "" %]
          [% "</optgroup>" UNLESS first_group %]
          [% first_group = false %]
          <optgroup label="[% item.name FILTER html %]">
        [% ELSE %]
          <option value="[% item.id FILTER html %]">[% item.name FILTER html %]</option>
        [% END %]
      [% END %]
      [% "</optgroup>" UNLESS first_group %]
    </select>
    <button onclick="addGear();return false">Add</button>
    <br>

    <div id="gear_container"></div>
  </td>
</tr>

<tr>
  <td>&nbsp;</td>
</tr>
<tr>
  <th class="heading" colspan="2">Tell Us About You</th>
</tr>

<tr>
  <th>First Name</th>
  <td><input name="firsrname" id="firstname" size="50" maxlength="30"></td>
</tr>

<tr>
  <th>Last Name</th>
  <td><input name="lastname" id="lastname" size="50" maxlength="30"></td>
</tr>

<tr>
  <th>Email Address</th>
  <td><input name="email" id="email" size="50" maxlength="50"></td>
</tr>

<tr>
  <th>My Mozilla Space</th>
  <td>
    <select name="mozspace" id="mozspace">
      <option value="">Please select..</option>
      <option value="Mountain View">Mountain View</option>
      <option value="San Francisco">San Francisco</option>
      <option value="Toronto">Toronto</option>
      <option value="Vancouver">Vancouver</option>
      <option value="London">London</option>
      <option value="Paris">Paris</option>
      <option value="Berlin">Berlin</option>
    </select>
    <i>(if applicable)</i>
</tr>

<tr>
  <th>Team + Department Code</th>
  <td>
    <select name="teamcode" id="teamcode">
      <option value="">Please select..</option>
      <option value="Applications (350)">Applications (350)</option>
      <option value="Business Affairs (110)">Business Affairs (110)</option>
      <option value="Engagement Brand Management (240)">Engagement Brand Management (240)</option>
      <option value="Engagement Contributor (230)">Engagement Contributor (230)</option>
      <option value="Engagement General (200)">Engagement General (200)</option>
      <option value="Engagement PR (220)">Engagement PR (220)</option>
      <option value="Engagement Product Mktg (210)">Engagement Product Mktg (210)</option>
      <option value="Engagement Product Strategy (250)">Engagement Product Strategy (250)</option>
      <option value="Engagement User (232)">Engagement User (232)</option>
      <option value="Engagement Websites &amp; Developer (235)">Engagement Websites &amp; Developer (235)</option>
      <option value="Engr B2G (720)">Engr B2G (720)</option>
      <option value="Engr Development Tools &amp; Auto (769)">Engr Development Tools &amp; Auto (769)</option>
      <option value="Engr Firefox (770)">Engr Firefox (770)</option>
      <option value="Engr Firefox Dev Tools (775)">Engr Firefox Dev Tools (775)</option>
      <option value="Engr General Admin (700)">Engr General Admin (700)</option>
      <option value="Engr Jetpack (780)">Engr Jetpack (780)</option>
      <option value="Engr Localization - L10N (740)">Engr Localization - L10N (740)</option>
      <option value="Engr Ops Build &amp; Release (440)">Engr Ops Build &amp; Release (440)</option>
      <option value="Engr Ops Network &amp; IT (410)">Engr Ops Network &amp; IT (410)</option>
      <option value="Engr Ops Stats &amp; Metrics (420)">Engr Ops Stats &amp; Metrics (420)</option>
      <option value="Engr Ops Support/SUMO (450)">Engr Ops Support/SUMO (450)</option>
      <option value="Engr Ops Weave &amp; Services (460)">Engr Ops Weave &amp; Services (460)</option>
      <option value="Engr Ops Web Dev (430)">Engr Ops Web Dev (430)</option>
      <option value="Engr Platform Content (810)">Engr Platform Content (810)</option>
      <option value="Engr Platform General (800)">Engr Platform General (800)</option>
      <option value="Engr Platform Graphics (820)">Engr Platform Graphics (820)</option>
      <option value="Engr Platform Integration (880)">Engr Platform Integration (880)</option>
      <option value="Engr Platform JS (830)">Engr Platform JS (830)</option>
      <option value="Engr Platform Layout (840)">Engr Platform Layout (840)</option>
      <option value="Engr Platform Network (855)">Engr Platform Network (855)</option>
      <option value="Engr Platform Performance (870)">Engr Platform Performance (870)</option>
      <option value="Engr Platform Stability Plugins (850)">Engr Platform Stability Plugins (850)</option>
      <option value="Engr Project Mgmt (710)">Engr Project Mgmt (710)</option>
      <option value="Engr QA Automation (760)">Engr QA Automation (760)</option>
      <option value="Engr QA Browser Technologies (767)">Engr QA Browser Technologies (767)</option>
      <option value="Engr QA Firefox Desktop (755)">Engr QA Firefox Desktop (755)</option>
      <option value="Engr QA Services (750)">Engr QA Services (750)</option>
      <option value="Engr QA Web (765)">Engr QA Web (765)</option>
      <option value="Engr Research (860)">Engr Research (860)</option>
      <option value="Engr Security (730)">Engr Security (730)</option>
      <option value="Facility (150)">Facility (150)</option>
      <option value="Finance (120)">Finance (120)</option>
      <option value="G&amp;A (100)">G&amp;A (100)</option>
      <option value="Innovations (300)">Innovations (300)</option>
      <option value="Mobile (600)">Mobile (600)</option>
      <option value="Mobile UI (610)">Mobile UI (610)</option>
      <option value="Pancake (530)">Pancake (530)</option>
      <option value="People (140)">People (140)</option>
      <option value="People Ops (130)">People Ops (130)</option>
      <option value="Product Add-Ons (550)">Product Add-Ons (550)</option>
      <option value="Product UX (510)">Product UX (510)</option>
      <option value="Products General (500)">Products General (500)</option>
      <option value="Products User Research (520)">Products User Research (520)</option>
      <option value="Security Assurance (470)">Security Assurance (470)</option>
      <option value="Thunderbird (320)">Thunderbird (320)</option>
    </select>
  </td>
</tr>

<tr>
  <td>&nbsp;</td>
</tr>
<tr>
  <th class="heading" colspan="2">Tell Us Where To Send It</th>
</tr>

<tr>
  <th>Shipping First Name</th>
  <td><input name="shiptofirstname" id="shiptofirstname" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping Last Name</th>
  <td><input name="shiptolastname" id="shiptolastname" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping Email Address</th>
  <td><input name="shiptoemail" id="shiptoemail" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping Address</th>
  <td><input name="shiptoaddress1" id="shiptoaddress1" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping Address 2</th>
  <td><input name="shiptoaddress2" id="shiptoaddress2" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping City</th>
  <td><input name="shiptocity" id="shiptocity" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping State</th>
  <td><input name="shiptostate" id="shiptostate" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping Country</th>
  <td><input name="shiptocountry" id="shiptocountry" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping Postal Code</th>
  <td><input name="shiptopostcode" id="shiptopostcode" size="50" maxlength="50"></td>
</tr>
<tr>
  <th>Shipping Telephone</th>
  <td>
    <input name="shiptophone" id="shiptophone" size="50" maxlength="50">
    <i>(include country code if ordering from outside of the US)</i>
  </td>
</tr>
<tr>
  <th>Shipping Personal ID/RUT</th>
  <td>
    <input name="shiptoidrut" id="shiptoidrut" size="50" maxlength="50">
    <i>(if your country requires this)</i>
  </td>
</tr>

<tr>
  <td>&nbsp;</td>
</tr>
<tr>
  <th class="heading" colspan="2">Tell Us Anything Else</th>
</tr>

<tr>
  <th>Additional Comments</th>
  <td><textarea id="comment" name="comment" rows="5" cols="50"></textarea></td>
</tr>

<tr>
  <td>&nbsp;</td>
</tr>

<tr>
  <td>&nbsp;</td>
  <td><input type="submit" id="commit" value="Submit Request"></td>
</tr>

</table>
</form>

<p>
  <span class="mandatory">*</span> - Required Field
</p>

<p>
  Requests will only be visible to the person who submitted it, authorized
  members of the Mozilla Engagement team, and our Staples Customer Service rep.
  We do this to help protect the personal identifying information in this [% terms.bugs %].
</p>

<script>
  initFields();
  onPurposeChange();
  tagMandatoryFields();
  showGear();
</script>

[% PROCESS global/footer.html.tmpl %]
